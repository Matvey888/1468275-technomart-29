const mapButton=document.querySelector(".map-button"),writeUs=document.querySelector(".main-feedback"),buyAll=document.querySelectorAll(".btn-buy"),writeUsForm=document.querySelector(".write-us-form"),nameFamily=document.querySelector(".name-family"),email=document.querySelector(".email");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(a){isStorageSupport=!1}if(mapButton){const a=document.querySelector(".modal-map"),b=a.querySelector(".close-button");mapButton.addEventListener("click",function(b){b.preventDefault(),a.classList.add("modal-show-map")}),b&&(b.addEventListener("click",function(b){b.preventDefault(),a.classList.remove("modal-show-map")}),window.addEventListener("keydown",function(b){27===b.keyCode&&a.classList.contains("modal-show-map")&&(b.preventDefault(),a.classList.remove("modal-show-map"))}))}if(writeUs){const a=document.querySelector(".modal-write-us"),b=a.querySelector(".close-button");writeUs.addEventListener("click",function(b){b.preventDefault(),a.classList.add("modal-shown"),storage?(nameFamily.value=storage,email.focus()):nameFamily.focus(),writeUsForm.addEventListener("submit",function(a){email.value&&nameFamily.value?isStorageSupport&&localStorage.setItem("login",nameFamily.value):(a.preventDefault(),writeUsForm.classList.remove("modal-error"),writeUsForm.offsetWidth=writeUsForm.offsetWidth,writeUsForm.classList.add("modal-error"))})}),b&&(b.addEventListener("click",function(b){b.preventDefault(),a.classList.remove("modal-shown"),writeUsForm.classList.remove("modal-error")}),window.addEventListener("keydown",function(b){27===b.keyCode&&a.classList.contains("modal-shown")&&(b.preventDefault(),a.classList.remove("modal-shown"),writeUsForm.classList.remove("modal-error"))}))}if(buyAll){const a=document.querySelector(".modal-cart"),b=a.querySelector(".close-button");for(let b=0;b<buyAll.length;b++)buyAll[b].addEventListener("click",function(b){b.preventDefault(),a.classList.add("modal-shown")});b&&(b.addEventListener("click",function(b){b.preventDefault(),a.classList.remove("modal-shown")}),window.addEventListener("keydown",function(b){27===b.keyCode&&a.classList.contains("modal-shown")&&(b.preventDefault(),a.classList.remove("modal-shown"))}))}
